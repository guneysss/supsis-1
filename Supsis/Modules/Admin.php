<?php

namespace Supsis\Modules;

use Supsis\Config;

/**
 * Admin page.
 */
class Admin extends Config
{
    /**
     * Registers menu.
     * @return void
     */
    public function register(): void
    {
        add_action("admin_menu", [$this, "addAdminMenu"]);
    }

    /**
     * Supsis menu add.
     * @return void
     */
    function addAdminMenu(): void
    {
        add_menu_page(
            "Supsis - The Powerful Live Support",
            "Supsis",
            "manage_options",
            "supsis",
            [$this, "adminTemplate"],
            "data:image/svg+xml;base64, PHN2ZwogICAgICAgIGlkPSJhMGZhZTMwMi1iZmJiLTRlYTYtYTZmOS1iZmVkN2Q3ODMwMTYiCiAgICAgICAgZGF0YS1uYW1lPSJrYXRtYW4gMSIKICAgICAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICAgICAgd2lkdGg9IjUwMCIKICAgICAgICBoZWlnaHQ9IjUwMCIKICAgICAgICB2aWV3Qm94PSIwIDAgNTAwIDUwMCIKPgogICAgPHBhdGgKICAgICAgICAgICAgc3R5bGU9ImZpbGw6ICNGMDcyMTY7IGZpbGwtcnVsZTogZXZlbm9kZCIKICAgICAgICAgICAgZD0iTTI2NC42MDQ1MywyOTAuMzQ4NjJsLS43NDktNC41OTc1M2EyOC4zMjEyNCwyOC4zMjEyNCwwLDAsMCwuNzQ5LDQuNTk3NTNNOTguODM4MjUsNDA3LjA4OTQzbDUzLjU2Mjg0LTEwLjIxNjgyLDYuMDE5MzMsMzYuOTI5ODcsMjguMTE4LTQzLjQ0MTYxLDMxLjc4MTE2LTYuMDYyMTlhNTkuNjU0MjUsNTkuNjU0MjUsMCwwLDAsMzYuMzUwMTMtMjMuMTA4NDQsNzguMDI5NDEsNzguMDI5NDEsMCwwLDEtMTQuOTIxNDMtOS45NSw0Mi4zMDkyMSw0Mi4zMDkyMSwwLDAsMS0yNC40Mzc3OSwxNC41OTRMOTUuODI4NTUsMzg4LjYyNWMtMjMuNDY5NjYsNC40NzY1MS00Ni4wNTgxLTEyLjYzMzMzLTUwLjE5NjE3LTM4LjAyMzExQzI3Ljc3NTU4LDI0MS4wNTEwOSw0Mi40MjEsMzMwLjkwMDUyLDI0LjU2NDc0LDIyMS4zNDgxOWMtNC4xMzg1Ny0yNS4zODkzMywxMS42Nzc2Ny00OS44MjQ3MiwzNS4xNDczMy01NC4zMDE3OGwxMTkuNDgxNDgtMjIuNzkwNzVjMTkuODMxOTItMy43ODI5NSwzOS4wMzI3Myw3Ljg0Nzg3LDQ3LjAwNjI5LDI2Ljg2MTYzbDQuMjUxODctMjYuMDgzODljLTEzLjU2ODUyLTE1LjIyNjk0LTMzLjY3NS0yMy4xNzAzOC01NC4yNjc4Ni0xOS4yNDI3NEw1Ni43MDI0OCwxNDguNTgyQzIzLjg0NDc4LDE1NC44NDk1NywxLjcwMjE2LDE4OS4wNTk0MSw3LjQ5NTgsMjI0LjYwNDVMMjguNTYzNDQsMzUzLjg1NzYzQzM0LjM1NzE5LDM4OS40MDI3Miw2NS45ODA1Nyw0MTMuMzU2OTIsOTguODM4MjUsNDA3LjA4OTQzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBzdHlsZT0iZmlsbDogI0YwNzIxNjsgZmlsbC1ydWxlOiBldmVub2RkIgogICAgICAgICAgICBkPSJNMTUxLjU1NjI4LDM1Mi42MWMtNDMuOTAyMjEsOC4zNzQtODUuNzY5MzgtMjMuMjU2ODgtOTMuNjUwMDktNzAuNjg0NTUtLjAxNi0uMDk3MjMtLjAzNDg3LS4xOTM5MS0uMDUwOTMtLjI5MTE0bC0uMDAwNTEtLjAwMzIxYy0xLjAxNjQ5LTYuMjQ0ODIsMi44NDA0OC0xMi4yMDIyNiw4LjYxMzE2LTEzLjMwMzExLDUuNzczNy0xLjEwMTI5LDExLjI4MDcyLDMuMDY5LDEyLjI5OTc3LDkuMzEzODZsLjAwMS4wMDMyMWM1LjcxMjc3LDM1LjAzOTU3LDM2LjcxMTU4LDU4LjUxNzM1LDY5LjA5OTkzLDUyLjMzODg4LDMyLjM4ODg3LTYuMTc3NzcsNTQuMDk1MDgtMzkuNzA4NzYsNDguMzg1MjgtNzQuNzQ5NDRsLS4wMDA0Mi0uMDAyNjZjLTEuMDE2Ni02LjI0NDgyLDIuODM5ODYtMTIuMjAxODIsOC42MTM1Ni0xMy4zMDM2OCw1Ljc3MjY4LTEuMTAxMjcsMTEuMjgwMjIsMy4wNzAwNSwxMi4yOTk3OCw5LjMxNDMyaDBsLjAwMS4wMDMzMmM3Ljc1NjI4LDQ3LjU4OTYxLTIxLjYxOTkxLDkyLjk3MjQ0LTY1LjYxMTU4LDEwMS4zNjQyIgogICAgLz4KICAgIDxwYXRoCiAgICAgICAgICAgIHN0eWxlPSJmaWxsOiAjZmZmIgogICAgICAgICAgICBkPSJNMjQ1Ljc3MzE2LDI3NS4yOTA3bC0uMDE4NTEuMTEyODNjLTQuMTM4NTgsMjUuMzg5MzMsMTEuNjc4MTgsNDkuODI0NzEsMzUuMTQ4MzUsNTQuMzAxNzhsMTE5LjQ4MSwyMi43OTA3NWMyMy40NzAxOSw0LjQ3Njk1LDQ2LjA1ODYxLTEyLjYzMjc4LDUwLjE5NjY4LTM4LjAyMjY5LDE3Ljg1NjI5LTEwOS41NTEzMSwzLjIxMTM1LTE5LjcwMTIyLDIxLjA2NzY0LTEyOS4yNTM2Niw0LjEzODA2LTI1LjM4OTIyLTExLjY3ODE4LTQ5LjgyNTE2LTM1LjE0NzQzLTU0LjMwMTY3TDMxNy4wMTksMTA4LjEyNjc0Yy0yMy40NzAxNy00LjQ3NzA3LTQ2LjA1NzU5LDEyLjYzMzMzLTUwLjE5NjY4LDM4LjAyMjU1bC0uMDE4LjExMjM5Wm0xNTEuNjAxMSw5NS42NzAzNi01My41NjE4MS0xMC4yMTY5M0wzMzcuNzkzLDM5Ny42NzMsMzA5LjY3NDU2LDM1NC4yMzI1bC0zMS43ODExNi02LjA2MjNjLTMyLjg1ODItNi4yNjc1LTU1LjAwMTMzLTQwLjQ3NzktNDkuMjA3MTgtNzYuMDIzbDQuNTk5NDMtMjguMjE5NDRMMjQ1LjE1NCwxNzEuMTEzbDQuNTgxOTQtMjguMTA3MTQuMDE3OS0uMTEyMjdjNS43OTM2NC0zNS41NDUxMiwzNy40MTcxMy01OS40OTg3NSw3MC4yNzQ4MS01My4yMzEyNUw0MzkuNTEwNTYsMTEyLjQ1M2MzMi44NTY2Niw2LjI2NzQ5LDU1LjAwMDgyLDQwLjQ3NzQ1LDQ5LjIwNjE2LDc2LjAyMjU0TDQ2Ny42NDkwOCwzMTcuNzI5MjZDNDYxLjg1NTM2LDM1My4yNzQzNSw0MzAuMjMyLDM3Ny4yMjg1NSwzOTcuMzc0MjYsMzcwLjk2MTA2WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBzdHlsZT0iZmlsbDogI2ZmZiIKICAgICAgICAgICAgZD0iTTM0NC42NTYyNCwzMTYuNDgxMDVjNDMuOTAyNzIsOC4zNzQsODUuNzY5MzctMjMuMjU2ODYsOTMuNjUwMDktNzAuNjg0LjAxNTk1LS4wOTc3OC4wMzQ4Ny0uMTkzOTEuMDUwOTMtLjI5MTY5bC4wMDA5Mi0uMDAyNjZjMS4wMTY1OS02LjI0NTM3LTIuODM5ODctMTIuMjAyMzctOC42MTM1Ny0xMy4zMDM2NnMtMTEuMjgwNzIsMy4wNjk0OC0xMi4zMDAyOCw5LjMxNDI4di4wMDI3OGMtNS43MTI3NiwzNS4wNC0zNi43MTEwOCw1OC41MTc4LTY5LjEwMDQ1LDUyLjMzOTQ2LTMyLjM4ODM0LTYuMTc4NDUtNTQuMDk1LTM5LjcwODg5LTQ4LjM4NTI1LTc0Ljc0OTQ2bC4wMDA5LS4wMDI2NmMxLjAxNjYtNi4yNDUzNy0yLjg0MDg4LTEyLjIwMjM3LTguNjEzNTYtMTMuMzAzNjYtNS43NzM3LTEuMTAxMjktMTEuMjgwNzMsMy4wNjk0OC0xMi4zMDAyOSw5LjMxMzc1aDB2LjAwMzc2Yy03Ljc1Njc5LDQ3LjU4OTE3LDIxLjYxODg4LDkyLjk3MjU1LDY1LjYxMDU2LDEwMS4zNjM3NCIKICAgIC8+Cjwvc3ZnPg==",
            "110"
        );
    }

    /**
     * Supsis admin page.
     * @return void
     */
    function adminTemplate(): void
    {
        $iframeUrl = $this->getIFrameUrl();

        require_once SUPSIS_PATH . "templates/iframe.php";
    }
}
